<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<style TYPE='text/css'>
.highlighter .add { 
  background-color: #7fff7f;
}

.highlighter .remove { 
  background-color: #ff7f7f;
}

.highlighter td.modify { 
  background-color: #7f7fff;
}

.highlighter td.conflict { 
  background-color: #f00;
}

.highlighter .spec { 
  background-color: #aaa;
}

.highlighter .move { 
  background-color: #ffa;
}

.highlighter .null { 
  color: #888;
}

.highlighter table { 
  border-collapse:collapse;
}

.highlighter td, .highlighter th {
  border: 1px solid #2D4068;
  padding: 3px 7px 2px;
}

.highlighter th, .highlighter .header, .highlighter .meta {
  background-color: #aaf;
  font-weight: bold;
  padding-bottom: 4px;
  padding-top: 5px;
  text-align:left;
}

.highlighter tr.header th {
  border-bottom: 2px solid black;
}

.highlighter tr.index td, .highlighter .index, .highlighter tr.header th.index {
  background-color: white;
  border: none;
}

.highlighter .gap {
  color: #888;
}

.highlighter td {
  empty-cells: show;
}
</style>
</head>
<body>
<div class='highlighter'>
<table>
<thead>
<tr class="header"><th>@@</th><th>ID</th><th>Class</th><th>Severity</th><th>Ruleset(s)</th><th>Message</th><th>Guidance</th><th>Context (Xpath)</th><th>Test (Xpath)</th></tr>
</thead>
<tbody>
<tr class="remove"><td>---</td><td>.1</td><td></td><td>Error</td><td></td><td>Percentages are missing for one or more .</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]</td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr class="remove"><td>---</td><td>.1</td><td></td><td>Error</td><td></td><td>Percentages are missing for one or more .</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]</td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr class="remove"><td>---</td><td>.1</td><td></td><td>Error</td><td></td><td>Percentages are missing for one or more .</td><td>{me:iati-url()}</td><td>iati-activity[recipient-country and not(recipient-region)]</td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr class="remove"><td>---</td><td>.2</td><td></td><td>Error</td><td></td><td>Percentages for must add up to 100%.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]</td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr class="remove"><td>---</td><td>.2</td><td></td><td>Error</td><td></td><td>Percentages for must add up to 100%.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]</td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr class="remove"><td>---</td><td>.2</td><td></td><td>Error</td><td></td><td>Percentages for must add up to 100%.</td><td>{me:iati-url()}</td><td>iati-activity[recipient-country and not(recipient-region)]</td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr class="remove"><td>---</td><td>.4</td><td></td><td>Error</td><td></td><td>For a single , the percentage can be omitted or should be 100.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr class="remove"><td>---</td><td>.4</td><td></td><td>Error</td><td></td><td>For a single , the percentage can be omitted or should be 100.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr class="remove"><td>---</td><td>.4</td><td></td><td>Error</td><td></td><td>For a single , the percentage can be omitted or should be 100.</td><td>{me:iati-url()}</td><td>iati-activity[recipient-country and not(recipient-region)]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr><td></td><td>0.1.1</td><td>iati</td><td>Error</td><td>iati</td><td>The file is not a proper XML file. The raw feedback from xmllint: {unparsed-text("/workspace/tmp/xmltestlog/" || $filename)} (not possible to present, maybe a binary file)</td><td></td><td>/not-an-xml-file</td><td></td></tr>
<tr class="gap"><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr>
<tr><td></td><td>2.1.4</td><td>classifications</td><td>Error</td><td></td><td>For a single sector, the percentage can be omitted or should be 100.</td><td>{me:iati-url(activity-standard/iati-activities/iati-activity/sector/)}</td><td>iati-activity[sector]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr class="add"><td>+++</td><td>3.1.1</td><td>geo</td><td>Error</td><td></td><td>Percentages are missing for one or more recipient countries.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region)]</td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr class="add"><td>+++</td><td>3.1.1</td><td>geo</td><td>Error</td><td></td><td>Percentages are missing for one or more recipient countries.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country and not(recipient-region))]</td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr class="add"><td>+++</td><td>3.1.2</td><td>geo</td><td>Error</td><td></td><td>Percentages for recipient countries must add up to 100%.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region)]</td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr class="add"><td>+++</td><td>3.1.2</td><td>geo</td><td>Error</td><td></td><td>Percentages for recipient countries must add up to 100%.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country and not(recipient-region))]</td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr><td></td><td>3.1.3</td><td>geo</td><td>Error</td><td>iati</td><td>No recipient countries or regions specified.</td><td></td><td>iati-activity[not(recipient-country) and not(recipient-region)]</td><td>count(recipient-country) = 0</td></tr>
<tr class="add"><td>+++</td><td>3.1.4</td><td>geo</td><td>Error</td><td></td><td>For a single recipient country, the percentage can be omitted or should be 100.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region)]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr class="add"><td>+++</td><td>3.1.4</td><td>geo</td><td>Error</td><td></td><td>For a single recipient country, the percentage can be omitted or should be 100.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country and not(recipient-region))]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr class="add"><td>+++</td><td>3.2.1</td><td>geo</td><td>Error</td><td></td><td>Percentages are missing for one or more recipient countries.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region)]</td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr><td></td><td>3.2.1</td><td>geo</td><td>Improvement</td><td>practice</td><td>The location has no name.</td><td></td><td>location</td><td>not(name)</td></tr>
<tr class="add"><td>+++</td><td>3.2.2</td><td>geo</td><td>Error</td><td></td><td>Percentages for recipient countries must add up to 100%.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region)]</td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr class="add"><td>+++</td><td>3.2.4</td><td>geo</td><td>Error</td><td></td><td>For a single recipient country, the percentage can be omitted or should be 100.</td><td>{me:iati-url()}</td><td>iati-activity[(recipient-country or recipient-region)]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr><td></td><td>3.3.1</td><td>geo</td><td>Error</td><td>iati</td><td>The point position does not consist of two valid real numbers.</td><td></td><td>point[pos]</td><td></td></tr>
<tr class="gap"><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr>
<tr><td></td><td>3.3.3</td><td>geo</td><td>Error</td><td>iati</td><td>The longitude should be in the range -180 to 180.</td><td></td><td>point[pos]</td><td>abs(number(regex-group(3)))&gt;180</td></tr>
<tr class="modify"><td class="modify">→</td><td>3.4.1</td><td>geo</td><td>Error</td><td></td><td>Percentages are missing for one or more recipient regions.</td><td>{me:iati-url()}</td><td class="modify">iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]→iati-activity[(recipient-country or recipient-region)]</td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr class="modify"><td class="modify">→</td><td class="modify">.1→3.4.1</td><td class="modify">→geo</td><td>Error</td><td></td><td class="modify">Percentages are missing for one or more .→Percentages are missing for one or more recipient countries or regions.</td><td class="modify">{me:iati-url()}→{me:iati-url(activity-standard/overview/geography/)}</td><td></td><td>count($group[not(@percentage)]) &gt; 0</td></tr>
<tr class="modify"><td class="modify">→</td><td>3.4.2</td><td>geo</td><td>Error</td><td></td><td>Percentages for recipient regions must add up to 100%.</td><td>{me:iati-url()}</td><td class="modify">iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]→iati-activity[(recipient-country or recipient-region)]</td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr class="modify"><td class="modify">→</td><td class="modify">.2→3.4.2</td><td class="modify">→geo</td><td>Error</td><td></td><td class="modify">Percentages for must add up to 100%.→Percentages for recipient countries or regions must add up to 100%.</td><td class="modify">{me:iati-url()}→{me:iati-url(activity-standard/overview/geography/)}</td><td></td><td>abs(sum($group/@percentage)-100) &gt; 0.0101</td></tr>
<tr class="modify"><td class="modify">→</td><td>3.4.4</td><td>geo</td><td>Error</td><td></td><td>For a single recipient region, the percentage can be omitted or should be 100.</td><td>{me:iati-url()}</td><td class="modify">iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]→iati-activity[(recipient-country or recipient-region)]</td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr class="modify"><td class="modify">→</td><td class="modify">.4→3.4.4</td><td class="modify">→geo</td><td>Error</td><td></td><td class="modify">For a single , the percentage can be omitted or should be 100.→For a single recipient country or region, the percentage can be omitted or should be 100.</td><td class="modify">{me:iati-url()}→{me:iati-url(activity-standard/overview/geography/)}</td><td></td><td>$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100</td></tr>
<tr class="add"><td>+++</td><td>3.6.2</td><td>financial</td><td>Error</td><td>iati</td><td>If the activity has recipient-country or recipient-region information, none of the transactions should have a recipient-country or recipient-region.</td><td></td><td>iati-activity[recipient-country or recipient-region]</td><td>transaction/recipient-country or transaction/recipient-region</td></tr>
<tr class="add"><td>+++</td><td>3.7.1</td><td>geo</td><td>Error</td><td>iati</td><td>The activity should have recipient-country or recipient-region information for either the activity or for all transactions.</td><td></td><td>iati-activity[not(recipient-country or recipient-region)]</td><td>not(transaction[recipient-country or recipient-region])</td></tr>
<tr class="add"><td>+++</td><td>3.7.2</td><td>geo</td><td>Error</td><td>iati</td><td>If transactions have a recipient-country or recipient-region, they must be used for all transactions.</td><td></td><td>iati-activity[not(recipient-country or recipient-region)]</td><td>transaction[not(recipient-country or recipient-region)]</td></tr>
<tr><td></td><td>4.1.1</td><td>information</td><td>Warning</td><td>iati</td><td>The activity should specify a default language, or the language should be specified for each narrative element.</td><td>http://iatistandard.org/202/activity-standard/iati-activities/iati-activity/#iati-activities-iati-activity-xml-lang</td><td>iati-activity</td><td>not(./@xml:lang) and descendant::narrative[not(@xml:lang)]</td></tr>
<tr class="gap"><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr>
</tbody>
</table>
</div>
</body>
</html>
