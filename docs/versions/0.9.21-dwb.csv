"ID","Class","Severity","Ruleset(s)","Message","Guidance","Context (Xpath)","Test (Xpath)"
.1,,Error,,Percentages are missing for one or more .,{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",count($group[not(@percentage)]) > 0
.1,,Error,,Percentages are missing for one or more .,{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",count($group[not(@percentage)]) > 0
.1,,Error,,Percentages are missing for one or more .,{me:iati-url()},"iati-activity[recipient-country and not(recipient-region) and starts-with($iati-version, '2.')]",count($group[not(@percentage)]) > 0
.1,,Error,,Percentages are missing for one or more .,{me:iati-url()},,count($group[not(@percentage)]) > 0
.2,,Error,,Percentages for must add up to 100%.,{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",abs(sum($group/@percentage)-100) > 0.0101
.2,,Error,,Percentages for must add up to 100%.,{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",abs(sum($group/@percentage)-100) > 0.0101
.2,,Error,,Percentages for must add up to 100%.,{me:iati-url()},"iati-activity[recipient-country and not(recipient-region) and starts-with($iati-version, '2.')]",abs(sum($group/@percentage)-100) > 0.0101
.2,,Error,,Percentages for must add up to 100%.,{me:iati-url()},,abs(sum($group/@percentage)-100) > 0.0101
.4,,Error,,"For a single , the percentage can be omitted or should be 100.",{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100
.4,,Error,,"For a single , the percentage can be omitted or should be 100.",{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100
.4,,Error,,"For a single , the percentage can be omitted or should be 100.",{me:iati-url()},"iati-activity[recipient-country and not(recipient-region) and starts-with($iati-version, '2.')]",$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100
.4,,Error,,"For a single , the percentage can be omitted or should be 100.",{me:iati-url()},,$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100
0.1.1,iati,Error,iati,"The file is not a proper XML file. The raw feedback from xmllint: {unparsed-text(""/workspace/tmp/xmltestlog/"" || $filename)} (not possible to present, maybe a binary file)",,/not-an-xml-file,
0.2.1,iati,Error,iati,The file is not an IATI file.,,/not-an-iati-file,
0.3.1,iati,Error,iati,"The file is not a valid IATI file. The raw feedback from schema validation: {unparsed-text(""/workspace/tmp/xmlschemalog/"" || $filename)} (not possible to present, maybe a binary file)",,iati-file-with-schema-errors,
0.4.1,iati,Error,iati,"The file is not a valid XML. A recovered version also is not a valid IATI file. The raw feedback from xmllint: {unparsed-text(""/workspace/tmp/xmltestlog/"" || $filename)} (not possible to present, maybe a binary file) The raw feedback from schema validation: {unparsed-text(""/workspace/tmp/xmlschemalog/"" || $filename)} (not possible to present, maybe a binary file)",,recovered-iati-file-with-schema-errors,
0.5.1,iati,Error,iati,"The file is not a valid XML. A recovered version does form a valid IATI file, but may not contain all information. The raw feedback from xmllint: {unparsed-text(""/workspace/tmp/xmltestlog/"" || $filename)} (not possible to present, maybe a binary file)",,recovered-iati-file,
1.1.1,identifiers,Warning,iati,The activity identifier should begin with the organisation identifier of the reporting organisation (or a previous version included as other-identifier).,,iati-identifier,"not(some $id in (../reporting-org/@ref, ../other-identifier[@type='B1']/@ref) satisfies starts-with(., $id))"
1.1.2,identifiers,Error,iati,The activity identifier should not occur multiple times in the dataset.,,iati-identifier,//iati-activity[iati-identifier=current()][2]
1.1.3,identifiers,Error,iati,The activity identifier cannot be the same as the organisation identifier of the reporting organisation.,,iati-identifier,. = ../reporting-org/@ref
1.2.2,identifiers,Improvement,iati,The organisation identifier is missing.,,participating-org|provider-org|receiver-org,not(@ref)
1.2.3,identifiers,Improvement,iati,The activity identifier is given: the organisation identifier should occur too.,,participating-org|provider-org|receiver-org,not(@ref) and (@activity-id or @receiver-activity-id or @provider-activity-id)
1.7.2,identifiers,Error,iati,The organisation identifier is missing.,,reporting-org,not(@ref)
100.1.1,traceability,Warning,minbuza,"Include at least one activity with a transaction of type 11 (incoming commitment) that refers to the Dutch Ministry of Foreign Affairs (XM-DAC-7) as the provider, and that refers to a specific activity identifier of the Ministry.",,iati-activities,not(//transaction[transaction-type/@code='11' and provider-org/@ref='XM-DAC-7' and provider-org/@provider-activity-id])
100.2.1,traceability,Improvement,minbuza,"An activity should contain links to other activities, for instance to indicate where funding comes from or goes to, or how it relates to overarching programmes or underlying projects. This helps understand the complete flow, and prevent double counting.",,iati-activity,not(//@provider-activity-id or //@receiver-activity-id or participating-org/@activity-id or related-activity/@ref)
100.2.2,traceability,Optimisation,minbuza,"If the Dutch Ministry (XM-DAC-7) is a donor or provider of incoming funds, the activity must have a transaction of type 11 (incoming commitment)",,iati-activity,( (participating-org[@ref='XM-DAC-7' and @role='1']) or (transaction[provider-org/@ref='XM-DAC-7' and transaction-type/@code='1']) ) and not ( transaction[provider-org/@ref='XM-DAC-7' and transaction-type/@code='11'] )
102.1.1,information,Error,"dfid, minbuza",The activity must have a sector classification using the OECD DAC sector vocabulary.,,iati-activity,"not(sector[@vocabulary=('1','')] or sector[not(@vocabulary)])"
103.1.1,information,Error,"dfid, minbuza",The region vocabulary code must be either omitted or at least one region vocabulary value must be 1 (OECD/DAC).,,iati-activity,"recipient-region and not(recipient-region/@vocabulary=('1','') or recipient-region[not(@vocabulary)])"
106.1.1,information,Error,minbuza,The activity must have a policy-marker using the OECD DAC vocabulary.,,iati-activity,"not(policy-marker/@vocabulary=('1','') or not(policy-marker/@vocabulary))"
108.1.1,performance,Improvement,"dfid, minbuza (Warning)",The activity should contain a results section.,,iati-activity,not(result)
2.1.1,classifications,Error,,Percentages are missing for one or more sectors.,{me:iati-url(activity-standard/iati-activities/iati-activity/sector/)},iati-activity[sector],count($group[not(@percentage)]) > 0
2.1.1,classifications,Error,,Percentages are missing for one or more sectors.,{me:iati-url(activity-standard/iati-activities/iati-activity/sector/)},iati-activity[sector],count($group[not(@percentage)]) > 0
2.1.2,classifications,Error,,Percentages for sectors must add up to 100%.,{me:iati-url(activity-standard/iati-activities/iati-activity/sector/)},iati-activity[sector],abs(sum($group/@percentage)-100) > 0.0101
2.1.2,classifications,Error,,Percentages for sectors must add up to 100%.,{me:iati-url(activity-standard/iati-activities/iati-activity/sector/)},iati-activity[sector],abs(sum($group/@percentage)-100) > 0.0101
2.1.3,classifications,Warning,iati:2.0x,You are using sectors on both the activity and on the transaction level. You should only use them in one place.,me:iati-url('activity-standard/iati-activities/iati-activity/sector/'),iati-activity[sector],count(sector)>0 and count(transaction/sector)>0
2.1.4,classifications,Error,,"For a single sector, the percentage can be omitted or should be 100.",{me:iati-url(activity-standard/iati-activities/iati-activity/sector/)},iati-activity[sector],$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100
2.1.4,classifications,Error,,"For a single sector, the percentage can be omitted or should be 100.",{me:iati-url(activity-standard/iati-activities/iati-activity/sector/)},iati-activity[sector],$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100
3.1.3,geo,Error,iati,No recipient countries or regions specified.,,iati-activity[not(recipient-country) and not(recipient-region)],count(recipient-country) = 0
3.2.1,geo,Improvement,practice,The location has no name.,,location,not(name)
3.3.1,geo,Error,iati,The point position does not consist of two valid real numbers.,,point[pos],
3.3.2,geo,Error,iati,The latitude should be in the range -90 to 90.,,point[pos],abs(number(regex-group(1)))>90
3.3.3,geo,Error,iati,The longitude should be in the range -180 to 180.,,point[pos],abs(number(regex-group(3)))>180
3.4.1,geo,Error,,Percentages are missing for one or more recipient regions.,{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",count($group[not(@percentage)]) > 0
3.4.2,geo,Error,,Percentages for recipient regions must add up to 100%.,{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",abs(sum($group/@percentage)-100) > 0.0101
3.4.4,geo,Error,,"For a single recipient region, the percentage can be omitted or should be 100.",{me:iati-url()},"iati-activity[(recipient-country or recipient-region) and starts-with($iati-version, '1.')]",$group/@percentage and $group/@percentage castable as xs:decimal and xs:decimal($group/@percentage) !=100
4.1.1,information,Warning,iati,"The activity should specify a default language, or the language should be specified for each narrative element.",http://iatistandard.org/202/activity-standard/iati-activities/iati-activity/#iati-activities-iati-activity-xml-lang,iati-activity,not(./@xml:lang) and descendant::narrative[not(@xml:lang)]
4.2.1,information,Improvement,practice,The activity title occurs more than once in the data.,,title,count((narrative|text()) = $activity-titles) > 1
4.3.1,,Warning,,The {$itemname} has no narrative content.,,title,"starts-with($iati-version, '2.') and (not($item/narrative) or not($item/narrative[functx:trim(.)!='']))"
4.3.2,,Warning,,The {$itemname} has no narrative content.,,title,"starts-with($iati-version, '1.') and (functx:trim(string($item))='')"
4.4.1,,Warning,,The {$itemname} has no narrative content.,,description,"starts-with($iati-version, '2.') and (not($item/narrative) or not($item/narrative[functx:trim(.)!='']))"
4.4.2,,Warning,,The {$itemname} has no narrative content.,,description,"starts-with($iati-version, '1.') and (functx:trim(string($item))='')"
5.1.1,traceability,Improvement,iati,"The activity is declared to be at hierarchical level but there is no reference to a parent activity, and no other activity in the dataset refers to this activity as a child activity.",,iati-activity,(@hierarchy > 1) and not(related-activity[@type='1']) and not(//iati-activity/related-activity[@type='2' and @ref=$aid])
6.1.4,documents,Improvement,iati,The document has no language indication.,,document-link,not(language/@code) or language/@code=''
6.2.1,information,Error,iati,The activity status is missing.,,iati-activity,not(activity-status)
6.2.2,classifications,Warning,iati,The activity should have a sector classification for either the activity or for all transactions.,,iati-activity[not(sector)],not(transaction[sector])
6.2.3,classifications,Warning,iati,The policy markers are missing.,,iati-activity,not(policy-marker)
6.2.4,classifications,Warning,iati,The default flow type is missing.,,iati-activity,not(default-flow-type)
6.2.5,classifications,Improvement,iati,The default finance type is missing.,,iati-activity,not(default-finance-type)
6.2.6,classifications,Warning,iati,The default aid type is missing.,,iati-activity,not(default-aid-type)
6.2.7,classifications,Warning,iati,The default tied status is missing.,,iati-activity,not(default-tied-status)
6.3.1,identification,Warning,iati,The organisation type is missing.,,reporting-org,not(@type) or @type=''
6.4.1,participating,Warning,iati,The organisation type is missing.,,participating-org,not(@type) or @type=''
6.5.1,financial,Warning,iati,The organisation type is missing.,,provider-org|receiver-org,not(@type) or @type=''
6.6.2,classifications,Warning,iati,"If the activity has a sector classification, none of the transactions should have a sector classification.",,iati-activity[sector],transaction/sector
6.7.2,classifications,Warning,iati,"If transactions have a sector classification, they must be used for all transactions.",,iati-activity[not(sector)],transaction[not(sector)]
7.1.1,financial,Error,practice,The provider-activity-id and receiver-activity-id are the same: financial flows should be between different activities.,,transaction[provider-org and receiver-org],provider-org/@provider-activity-id eq receiver-org/@receiver-activity-id
7.1.2,financial,Warning,practice,"The transaction is a outgoing commitment from the activity, but has no receiver-activity-id. It might be that the receiver-activity-id is in the wrong place.",,transaction[provider-org and receiver-org],"upper-case(transaction-type/@code)=('2','C') and provider-org/@provider-activity-id and provider-org/@provider-activity-id != ../iati-identifier and not(receiver-org/@receiver-activity-id)"
7.1.3,financial,Warning,practice,"The transaction is a disbursement from the activity, but has no receiver-activity-id. It might be that the receiver-activity-id is in the wrong place.",,transaction[provider-org and receiver-org],"upper-case(transaction-type/@code)=('3','D') and provider-org/@provider-activity-id and provider-org/@provider-activity-id != ../iati-identifier and not(receiver-org/@receiver-activity-id)"
7.1.4,financial,Warning,practice,"The transaction is an expenditure from the activity, but has a receiver-activity-id suggesting it may be a disbursement.",,transaction[provider-org and receiver-org],"upper-case(transaction-type/@code)=('4','E') and receiver-org/@receiver-activity-id"
7.3.1,financial,Warning,practice,The incoming transaction has no provider organisation identifier or name.,,"transaction[upper-case(transaction-type/@code)=('1','11','IF')]",not(provider-org/@ref!='') and not(provider-org/narrative!='')
7.3.2,financial,Warning,practice,"The incoming transaction does not need receiver information, and the information given does not match the activity.",,"transaction[upper-case(transaction-type/@code)=('1','11','IF')]",receiver-org
7.3.3,financial,Optimisation,practice,The incoming transaction does not need receiver information (although the identifiers given match the activity).,,"transaction[upper-case(transaction-type/@code)=('1','11','IF')]",receiver-org[@ref=current()/../reporting-org/@ref and @receiver-activity-id=current()/../iati-identifier]
7.3.4,financial,Warning,"iati, minbuza (Error)",The incoming transaction has no provider actvity identifier.,,"transaction[upper-case(transaction-type/@code)=('1','11','IF')]",not(provider-org/@provider-activity-id!='')
7.3.5,financial,Optimisation,practice,The incoming transaction does not need receiver identifier (although the identifier given matches the reporting organisation).,,"transaction[upper-case(transaction-type/@code)=('1','11','IF')]",receiver-org[@ref=current()/../reporting-org/@ref]
7.4.1,financial,Warning,practice,The outgoing transaction has no receiver organisation identifier or name.,,"transaction[upper-case(transaction-type/@code)=('2','3','D','C')]",not(receiver-org/@ref!='') and not(receiver-org/narrative!='')
7.4.2,financial,Warning,practice,"The outgoing transaction does not need provider information, and the information given does not match the activity.",,"transaction[upper-case(transaction-type/@code)=('2','3','D','C')]",provider-org
7.4.3,financial,Optimisation,practice,The outgoing transaction does not need provider information (although the identifiers given match the activity).,,"transaction[upper-case(transaction-type/@code)=('2','3','D','C')]",provider-org[@ref=current()/../reporting-org/@ref and @provider-activity-id=current()/../iati-identifier]
7.4.4,financial,Improvement,practice,The outgoing transaction has no receiver activity identifier.,,"transaction[upper-case(transaction-type/@code)=('2','3','D','C')]",receiver-org/@ref!='' and not(receiver-org/@receiver-activity-id!='')
7.4.5,financial,Optimisation,practice,The outgoing transaction does not need a provider identifier (although the identifier given matches the reporting organisation).,,"transaction[upper-case(transaction-type/@code)=('2','3','D','C')]",provider-org[@ref=current()/../reporting-org/@ref]
7.5.1,financial,Warning,practice,The budget has a value of 0.,,budget,"value castable as xs:decimal and value=(0, '0')"
7.5.2,financial,Error,iati,The budget value has no value date.,,budget,not(value/@value-date)
7.5.3,financial,Optimisation,iati,The budget period is longer than a year.,,budget,xs:date(period-start/@iso-date) + xs:yearMonthDuration('P1Y') lt xs:date(period-end/@iso-date)
7.6.1,financial,Warning,iati,The transaction date is later than the date of the last update of the activity.,,transaction-date,@iso-date gt ancestor::iati-activity/@last-updated-datetime
7.6.2,financial,Warning,iati,The transaction date is later than the date of generation of the activities file.,,transaction-date,@iso-date gt ancestor::iati-activities/@generated-datetime
7.7.2,financial,Warning,"iati, minbuza (Error)",No budgets have been defined for this activity.,,iati-activity,not(budget)
7.8.1,financial,Error,iati,The value has no currency and there is no default currency for this activity.,,value|forecast,(not(@currency) or currency='') and (not(ancestor::iati-activity/@default-currency) or ancestor::iati-activity/@default-currency='')
8.1.2,performance,Warning,practice,The result indicator has no periods with target or actual values.,,indicator,not(period)
8.1.3,performance,Warning,practice,"The indicator is a percentage, but part of a result marked as suitable for aggregation.",,indicator,@measure='2' and (ancestor::result/@aggregation-status=true())
8.1.4,performance,Warning,practice,The result indicator has no baseline.,,indicator,not(baseline)
8.2.1,performance,Warning,iati,The result has no aggregation status flag.,,result,not(@aggregation-status)
8.3.1,performance,Improvement,practice,The result indicator URI is missing for the organisation-specific indicator.,,indicator/reference,@vocabulary='99' and (not(@indicator-uri) or @indicator-uri='')
8.4.1,performance,Error,practice,The year for the baseline is not realistic.,,baseline,(xs:integer(@year) lt 1950) or (xs:integer(@year) gt 2050)
8.4.2,performance,Warning,practice,The year for the baseline is more than 5 years before the start date of the activity.,,baseline,xs:integer(@year) lt $start-year - 5
8.4.3,performance,Warning,practice,The year for the baseline is after the end date of the activity.,,baseline,xs:integer(@year) gt $end-year
8.4.4,performance,Error,practice,The year for the baseline is not a number.,,baseline,not(@year castable as xs:integer)
8.5.1,performance,Error,iati,The {name(..)} value is not a number but the indicator is part of a result that can be aggregated.,,baseline/@value|target/@value|actual/@value,ancestor::result/@aggregation-status castable as xs:boolean and xs:boolean(ancestor::result/@aggregation-status) and not(. castable as xs:decimal)
8.6.1,performance,Error,iati,The start of the period is after the end of the period.,,period,period-start/@iso-date gt period-end/@iso-date
8.6.2,performance,Improvement,iati,The target for the period is missing.,,period,not(target)
8.6.3,performance,Improvement,iati,The actual for the period is missing.,,period,not(actual)
8.7.1,performance,Error,iati,The location that the indicator references is not specified in this activity.,,baseline/location|target/location|actual/location,not(@ref=ancestor::iati-activity/location/@ref)
8.8.1,performance,,iati,The result aggregation status is not a valid boolean value.,,result[@aggregation-status],not(@aggregation-status castable as xs:boolean)
9.1.1,iati,Error,iati,The IATI version of the dataset is not a valid version number.,,//iati-activities,"me:codeListFail(@version, 'Version')"
9.10.1,classifications,Error,iati,The collaboration type is invalid.,,//iati-activity/collaboration-type,"me:codeListFail(@code, 'CollaborationType')"
9.100.1,documents,Error,iati,The language code is invalid.,,//iati-organisation/document-link/language,"me:codeListFail(@code, 'Language')"
9.101.1,documents,Error,iati,The recipient country code is invalid.,,//iati-organisation/document-link/recipient-country,"me:codeListFail(@code, 'Country')"
9.102.1,financial,Error,iati,The budget status is invalid.,,//iati-organisation/recipient-country-budget,"me:codeListFail(@status, 'BudgetStatus')"
9.103.1,financial,Error,iati,The recipient country code is invalid.,,//iati-organisation/recipient-country-budget/recipient-country,"me:codeListFail(@code, 'Country')"
9.104.1,financial,Error,iati,The currency code is invalid.,,//iati-organisation/recipient-country-budget/value,"me:codeListFail(@currency, 'Currency')"
9.105.1,financial,Error,iati,The budget status is invalid.,,//iati-organisation/recipient-org-budget,"me:codeListFail(@status, 'BudgetStatus')"
9.106.1,financial,Error,iati,The currency code is invalid.,,//iati-organisation/recipient-org-budget/value,"me:codeListFail(@currency, 'Currency')"
9.107.1,financial,Error,iati,The budget status is invalid.,,//iati-organisation/recipient-region-budget,"me:codeListFail(@status, 'BudgetStatus')"
9.108.1,financial,Error,iati,The recipient region budget code is invalid.,,//iati-organisation/recipient-region-budget[@vocabulary = '1' or not(@vocabulary)],"me:codeListFail(@code, 'Region')"
9.109.1,geo,Error,iati,The recipient region vocabulary is invalid.,,//iati-organisation/recipient-region-budget/recipient-region,"me:codeListFail(@vocabulary, 'RegionVocabulary')"
9.11.1,performance,Error,iati,The condition type is invalid.,,//iati-activity/conditions/condition,"me:codeListFail(@type, 'ConditionType')"
9.110.1,geo,Error,iati,The currency code is invalid.,,//iati-organisation/recipient-region-budget/budget-line/value,"me:codeListFail(@currency, 'Currency')"
9.111.1,geo,Error,iati,The currency code is invalid.,,//iati-organisation/recipient-region-budget/value,"me:codeListFail(@currency, 'Currency')"
9.112.1,information,Error,iati,The organisation type is invalid.,,//iati-organisation/reporting-org,"me:codeListFail(@type, 'OrganisationType')"
9.113.1,financial,Error,iati,The budget status is invalid.,,//iati-organisation/total-budget,"me:codeListFail(@status, 'BudgetStatus')"
9.114.1,financial,Error,iati,The currency code is invalid.,,//iati-organisation/total-budget/value,"me:codeListFail(@currency, 'Currency')"
9.116.1,iati,Error,iati,The AidType flag is invalid.,,//iati-activity/crs-add/aidtype-flag,"me:codeListFail(@code, 'AidTypeFlag')"
9.117.1,geo,Error,iati,The country code is invalid.,,//iati-activity/location/administrative,"me:codeListFail(@country, 'Country')"
9.118.1,geo,Error,iati,The geographical precision code is invalid.,,//iati-activity/location/coordinates,"me:codeListFail(@precision, 'GeographicalPrecision')"
9.119.1,geo,Error,iati,The gazeteer agency code is invalid.,,//iati-activity/location/gazetteer-entry,"me:codeListFail(@gazetteer-ref, 'GazetteerAgency')"
9.12.1,information,Error,iati,The contact information type is invalid.,,//iati-activity/contact-info,"me:codeListFail(@type, 'ContactType')"
9.120.1,geo,Error,iati,The location type code is invalid.,,//iati-activity/location/location-type,"me:codeListFail(@code, 'LocationType')"
9.13.1,classifications,Error,iati,The country budget identifier vocabulary is invalid.,,//iati-activity/country-budget-items,"me:codeListFail(@vocabulary, 'BudgetIdentifierVocabulary')"
9.14.1,classifications,Error,iati,The country budget identifier does not exist.,,//iati-activity/country-budget-items/budget-item[@vocabulary = '1'],"me:codeListFail(@code, 'BudgetIdentifier')"
9.15.1,classifications,Error,iati,The country budget item description type is invalid.,,//iati-activity/country-budget-items/budget-item/description,"me:codeListFail(@type, 'DescriptionType')"
9.16.1,classifications,Error,iati,The CRS channel code is invalid.,,//iati-activity/crs-add/channel-code,"me:codeListFail(text(), 'CRSChannelCode')"
9.17.1,classifications,Error,iati,The CRS other flag code is invalid.,,//iati-activity/crs-add/other-flags,"me:codeListFail(@code, 'CRSAddOtherFlags')"
9.18.1,classifications,Error,iati,The currency code is invalid.,,//iati-activity/crs-add/loan-status,"me:codeListFail(@currency, 'Currency')"
9.19.1,classifications,Error,iati,The repayment plan code is invalid.,,//iati-activity/crs-add/loan-terms/repayment-plan,"me:codeListFail(@code, 'LoanRepaymentPeriod')"
9.2.1,financial,Error,iati,The code to indicate why no budget is provided is invalid.,,//iati-activity,"me:codeListFail(@budget-not-provided, 'BudgetNotProvided')"
9.20.1,classifications,Error,iati,The repayment type is invalid.,,//iati-activity/crs-add/loan-terms/repayment-type,"me:codeListFail(@code, 'LoanRepaymentType')"
9.21.1,classifications,Error,iati,The default aid type is invalid.,,//iati-activity/default-aid-type[@vocabulary = '1' or not(@vocabulary)],"me:codeListFail(@code, 'AidType')"
9.22.1,classifications,Error,iati,The default aid type vocabulary is invalid.,,//iati-activity/default-aid-type,"me:codeListFail(@vocabulary, 'AidTypeVocabulary')"
9.23.1,classifications,Error,iati,The default finance type is invalid.,,//iati-activity/default-finance-type,"me:codeListFail(@code, 'FinanceType')"
9.24.1,classifications,Error,iati,The default flow type is invalid.,,//iati-activity/default-flow-type,"me:codeListFail(@code, 'FlowType')"
9.25.1,classifications,Error,iati,The default tied aid status code is invalid.,,//iati-activity/default-tied-status,"me:codeListFail(@code, 'TiedStatus')"
9.26.1,information,Error,iati,The description type is invalid.,,//iati-activity/description,"me:codeListFail(@type, 'DescriptionType')"
9.27.1,documents,Error,iati,The document format is invalid.,,//iati-activity/document-link,"me:codeListFail(@format, 'FileFormat')"
9.28.1,documents,Error,iati,The document category code is invalid.,,//iati-activity/document-link/category,"me:codeListFail(@code, 'DocumentCategory')"
9.29.1,documents,Error,iati,The document language code is invalid.,,//iati-activity/document-link/language,"me:codeListFail(@code, 'Language')"
9.3.1,financial,Error,iati,The default currency code is invalid.,,//iati-activity,"me:codeListFail(@default-currency, 'Currency')"
9.30.1,financial,Error,iati,The currency code is invalid.,,//iati-activity/fss/forecast,"me:codeListFail(@currency, 'Currency')"
9.31.1,classifications,Error,iati,The humanitarian scope type is invalid.,,//iati-activity/humanitarian-scope,"me:codeListFail(@type, 'HumanitarianScopeType')"
9.32.1,classifications,Error,iati,The humanitarian scope vocabulary is invalid.,,//iati-activity/humanitarian-scope,"me:codeListFail(@vocabulary, 'HumanitarianScopeVocabulary')"
9.33.1,geo,Error,iati,The location's administrative vocabulary is invalid.,,//iati-activity/location/administrative,"me:codeListFail(@vocabulary, 'GeographicVocabulary')"
9.34.1,geo,Error,iati,The location's feature designation code is invalid.,,//iati-activity/location/feature-designation,"me:codeListFail(@code, 'LocationType')"
9.35.1,geo,Error,iati,The location class code is invalid.,,//iati-activity/location/location-class,"me:codeListFail(@code, 'GeographicLocationClass')"
9.36.1,geo,Error,iati,The location identifier vocabulary is invalid.,,//iati-activity/location/location-id,"me:codeListFail(@vocabulary, 'GeographicVocabulary')"
9.37.1,geo,Error,iati,The location reach code is invalid.,,//iati-activity/location/location-reach,"me:codeListFail(@code, 'GeographicLocationReach')"
9.38.1,geo,Error,iati,The location exactness code is invalid.,,//iati-activity/location/exactness,"me:codeListFail(@code, 'GeographicExactness')"
9.39.1,identifiers,Error,iati,"The ""other identifier"" type is invalid.",,//iati-activity/other-identifier,"me:codeListFail(@type, 'OtherIdentifierType')"
9.4.1,information,Error,iati,The activity date type is invalid.,,//iati-activity/activity-date,"me:codeListFail(@type, 'ActivityDateType')"
9.40.1,participating,Error,iati,The CRS channel code is invalid.,,//iati-activity/participating-org,"me:codeListFail(@crs-channel-code, 'CRSChannelCode')"
9.41.1,participating,Error,iati,The organisation role is invalid.,,//iati-activity/participating-org,"me:codeListFail(@role, 'OrganisationRole')"
9.42.1,participating,Error,iati,The organisation type is invalid.,,//iati-activity/participating-org,"me:codeListFail(@type, 'OrganisationType')"
9.43.1,financial,Error,iati,The humanitarian scope type is invalid.,,//iati-activity/planned-disbursement,"me:codeListFail(@type, 'BudgetType')"
9.44.1,financial,Error,iati,The humanitarian scope type is invalid.,,//iati-activity/planned-disbursement/provider-org,"me:codeListFail(@type, 'OrganisationType')"
9.45.1,financial,Error,iati,The organisation type is invalid.,,//iati-activity/planned-disbursement/receiver-org,"me:codeListFail(@type, 'OrganisationType')"
9.46.1,financial,Error,iati,The currency code is invalid.,,//iati-activity/planned-disbursement/value,"me:codeListFail(@currency, 'Currency')"
9.47.1,classifications,Error,iati,The policy marker code is invalid.,,//iati-activity/policy-marker[@vocabulary = '1' or not(@vocabulary)],"me:codeListFail(@code, 'PolicyMarker')"
9.48.1,classifications,Error,iati,The policy marker significance is invalid.,,//iati-activity/policy-marker,"me:codeListFail(@significance, 'PolicySignificance')"
9.49.1,classifications,Error,iati,The policy marker vocabulary is invalid.,,//iati-activity/policy-marker,"me:codeListFail(@vocabulary, 'PolicyMarkerVocabulary')"
9.5.1,information,Error,iati,The activity status code is invalid.,,//iati-activity/activity-status,"me:codeListFail(@code, 'ActivityStatus')"
9.50.1,geo,Error,iati,The recipient country code is invalid.,,//iati-activity/recipient-country,"me:codeListFail(@code, 'Country')"
9.51.1,geo,Error,iati,The recipient region code is invalid.,,//iati-activity/recipient-region[@vocabulary = '1' or not(@vocabulary)],"me:codeListFail(@code, 'Region')"
9.52.1,geo,Error,iati,The recipient region vocabulary is invalid.,,//iati-activity/recipient-region,"me:codeListFail(@vocabulary, 'RegionVocabulary')"
9.53.1,relations,Error,iati,The related activity type is invalid.,,//iati-activity/related-activity,"me:codeListFail(@type, 'RelatedActivityType')"
9.54.1,identifiers,Error,iati,The organisation type is invalid.,,//iati-activity/reporting-org,"me:codeListFail(@type, 'OrganisationType')"
9.55.1,performance,Error,iati,The result type is invalid.,,//iati-activity/result,"me:codeListFail(@type, 'ResultType')"
9.56.1,performance,Error,iati,The result description type is invalid.,,//iati-activity/result/description,"me:codeListFail(@type, 'DescriptionType')"
9.57.1,performance,Error,iati,The document format is invalid.,,//iati-activity/result/document-link,"me:codeListFail(@format, 'FileFormat')"
9.58.1,performance,Error,iati,The document category code is invalid.,,//iati-activity/result/document-link/category,"me:codeListFail(@code, 'DocumentCategory')"
9.59.1,performance,Error,iati,The language code is invalid.,,//iati-activity/result/document-link/language,"me:codeListFail(@code, 'Language')"
9.6.1,information,Error,iati,The activity scope code is invalid.,,//iati-activity/activity-scope,"me:codeListFail(@code, 'ActivityScope')"
9.60.1,performance,Error,iati,The indicator measure is invalid.,,//iati-activity/result/indicator,"me:codeListFail(@measure, 'IndicatorMeasure')"
9.61.1,performance,Error,iati,The document format is invalid.,,//iati-activity/result/indicator/baseline/document-link,"me:codeListFail(@format, 'FileFormat')"
9.62.1,performance,Error,iati,The document category code is invalid.,,//iati-activity/result/indicator/baseline/document-link/category,"me:codeListFail(@code, 'DocumentCategory')"
9.63.1,performance,Error,iati,The language code is invalid.,,//iati-activity/result/indicator/baseline/document-link/language,"me:codeListFail(@code, 'Language')"
9.64.1,performance,Error,iati,The indicator description type is invalid.,,//iati-activity/result/indicator/description,"me:codeListFail(@type, 'DescriptionType')"
9.65.1,performance,Error,iati,The document format is invalid.,,//iati-activity/result/indicator/document-link,"me:codeListFail(@format, 'FileFormat')"
9.66.1,performance,Error,iati,The document category code is invalid.,,//iati-activity/result/indicator/document-link/category,"me:codeListFail(@code, 'DocumentCategory')"
9.67.1,performance,Error,iati,The language code is invalid.,,//iati-activity/result/indicator/document-link/language,"me:codeListFail(@code, 'Language')"
9.68.1,performance,Error,iati,The document format is invalid.,,//iati-activity/result/indicator/period/actual/document-link,"me:codeListFail(@format, 'FileFormat')"
9.69.1,performance,Error,iati,The document category code is invalid.,,//iati-activity/result/indicator/period/actual/document-link/category,"me:codeListFail(@code, 'DocumentCategory')"
9.7.1,financial,Error,iati,The budget status is invalid.,,//iati-activity/budget,"me:codeListFail(@status, 'BudgetStatus')"
9.70.1,performance,Error,iati,The language code is invalid.,,//iati-activity/result/indicator/period/actual/document-link/language,"me:codeListFail(@code, 'Language')"
9.71.1,performance,Error,iati,The document format is invalid.,,//iati-activity/result/indicator/period/target/document-link,"me:codeListFail(@format, 'FileFormat')"
9.72.1,performance,Error,iati,The document category code is invalid.,,//iati-activity/result/indicator/period/target/document-link/category,"me:codeListFail(@code, 'DocumentCategory')"
9.73.1,performance,Error,iati,The language code is invalid.,,//iati-activity/result/indicator/period/target/document-link/language,"me:codeListFail(@code, 'Language')"
9.74.1,performance,Error,iati,The indicator reference code vocabulary is invalid.,,//iati-activity/result/indicator/reference,"me:codeListFail(@vocabulary, 'IndicatorVocabulary')"
9.75.1,performance,Error,iati,The result reference code vocabulary is invalid.,,//iati-activity/result/reference,"me:codeListFail(@vocabulary, 'ResultVocabulary')"
9.76.1,classifications,Error,iati,The OECD DAC sector is invalid.,,"//iati-activity/sector[@vocabulary = ('1', 'DAC') or not(@vocabulary)]","me:codeListFail(@code, 'Sector')"
9.77.1,classifications,Error,iati,The OECD DAC category is invalid.,,//iati-activity/sector[@vocabulary = '2'],"me:codeListFail(@code, 'SectorCategory')"
9.78.1,classifications,Error,iati,The sector vocabulary is invalid.,,//iati-activity/sector,"me:codeListFail(@vocabulary, 'SectorVocabulary')"
9.79.1,classifications,Error,iati,The tag vocabulary is invalid.,,//iati-activity/tag,"me:codeListFail(@vocabulary, 'TagVocabulary')"
9.8.1,financial,Error,iati,The budget type is invalid.,,//iati-activity/budget,"me:codeListFail(@type, 'BudgetType')"
9.80.1,financial,Error,iati,The aid type is invalid.,,//iati-activity/transaction/aid-type[@vocabulary = '1' or not(@vocabulary)],"me:codeListFail(@code, 'AidType')"
9.81.1,financial,Error,iati,The aid type vocabulary is invalid.,,//iati-activity/transaction/aid-type,"me:codeListFail(@vocabulary, 'AidTypeVocabulary')"
9.82.1,financial,Error,iati,The disbursement channel code is invalid.,,//iati-activity/transaction/disbursement-channel,"me:codeListFail(@code, 'DisbursementChannel')"
9.83.1,financial,Error,iati,The finance type is invalid.,,//iati-activity/transaction/finance-type,"me:codeListFail(@code, 'FinanceType')"
9.84.1,financial,Error,iati,The flow type is invalid.,,//iati-activity/transaction/flow-type,"me:codeListFail(@code, 'FlowType')"
9.85.1,financial,Error,iati,The recipient country code is invalid.,,//iati-activity/transaction/recipient-country,"me:codeListFail(@code, 'Country')"
9.86.1,financial,Error,iati,The recipient region code is invalid.,,//iati-activity/transaction/recipient-region[@vocabulary = '1' or not(@vocabulary)],"me:codeListFail(@code, 'Region')"
9.87.1,financial,Error,iati,The recipient region vocabulary is invalid.,,//iati-activity/transaction/recipient-region,"me:codeListFail(@vocabulary, 'RegionVocabulary')"
9.88.1,financial,Error,iati,The organisation type is invalid.,,//iati-activity/transaction/provider-org,"me:codeListFail(@type, 'OrganisationType')"
9.89.1,financial,Error,iati,The organisation type is invalid.,,//iati-activity/transaction/receiver-org,"me:codeListFail(@type, 'OrganisationType')"
9.9.1,financial,Error,iati,The currency code is invalid.,,//iati-activity/budget/value,"me:codeListFail(@currency, 'Currency')"
9.90.1,financial,Error,iati,The DAC sector code is invalid.,,//iati-activity/transaction/sector[@vocabulary = '1' or not(@vocabulary)],"me:codeListFail(@code, 'Sector')"
9.91.1,financial,Error,iati,The sector vocabulary is invalid.,,//iati-activity/transaction/sector,"me:codeListFail(@vocabulary, 'SectorVocabulary')"
9.92.1,financial,Error,iati,The tied status code is invalid.,,//iati-activity/transaction/tied-status,"me:codeListFail(@code, 'TiedStatus')"
9.93.1,financial,Error,iati,The transaction type is invalid.,,//iati-activity/transaction/transaction-type,"me:codeListFail(@code, 'TransactionType')"
9.94.1,financial,Error,iati,The currency code is invalid.,,//iati-activity/transaction/value,"me:codeListFail(@currency, 'Currency')"
9.95.1,iati,Error,iati,The language code is invalid.,,//*,"me:codeListFail(@xml:lang, 'Language')"
9.96.1,organisation,Error,iati,The currency code is invalid.,,//iati-organisation,"me:codeListFail(@default-currency, 'Currency')"
9.97.1,iati,Error,iati,The IATI version of the dataset is not a valid version number.,,//iati-organisations,"me:codeListFail(@version, 'Version')"
9.98.1,documents,Error,iati,The document format is invalid.,,//iati-organisation/document-link,"me:codeListFail(@format, 'FileFormat')"
9.99.1,documents,Error,iati,The document category code is invalid.,,//iati-organisation/document-link/category,"me:codeListFail(@code, 'DocumentCategory')"
900.1.1,iati,Warning,practice,The dataset seems to contain activities in both IATI 1.0x and 2.0x formats.,,iati-activities,"(//title,//description,//name)[text()] and (//title,//description,//name)[text()]"
{$idclass}.1,{$class},Error,iati:{$versions},The identifier should not start or end with spaces or newlines.,,*,$item != functx:trim($item)
{$idclass}.10,{$class},,iati:1.x,"The identifier is a 5-digit code, but not on the list used up to IATI version 1.04. It may be intended as a CRS channel code.",me:iati-url('organisation-identifiers/'),*,"matches($item, '^[0-9]{5}$') and local-name($item/..)=('reporting-org', 'participating-org', 'provider-org', 'receiver-org', 'owner-org')"
{$idclass}.10,{$class},,iati:1.x,"The identifier starts with a 5-digit code, but is not on the list used up to IATI version 1.04. It may be intended as a CRS channel code.",me:iati-url('organisation-identifiers/'),*,"matches($item, '^[0-9]{5}.+$')"
{$idclass}.11,{$class},,iati:2.x,The identifier does not begin with an organisation identifier approved by the IATI registry.,,*,"not(some $known-id in $known-publisher-ids satisfies starts-with($item, $known-id||'-'))"
{$idclass}.12,{$class},,iati:2.x,The identifier is not an organisation identifier approved by the IATI registry.,,*,"not($item=$known-publisher-ids) and local-name($item)='ref' and local-name($item/..)=('reporting-org', 'participating-org', 'provider-org', 'receiver-org', 'owner-org')"
{$idclass}.5,{$class},Error,iati:2.x,The identifier is invalid: the prefix must be written in uppercase.,http://org-id.guide,*,"( not (some $prefix in $org-id-prefixes satisfies starts-with($item, $prefix||'-')) and (some $prefix in $org-id-prefixes satisfies starts-with(upper-case($item), $prefix||'-')))"
{$idclass}.7,{$class},,iati:{$versions},,,*,functx:trim($item)=''
{$idclass}.8,{$class},,iati:2.x,The identifier does not start with a known prefix.,http://org-id.guide,*,"not(some $prefix in $org-id-prefixes satisfies starts-with($item, $prefix||'-'))"
{$idclass}.9,{$class},,iati:2.x,The identifier starts with a prefix that it is marked as 'withdrawn'.,http://org-id.guide,*,"some $prefix in $org-id-prefixes[@status='withdrawn'] satisfies starts-with(upper-case($item), $prefix||'-')"
{$pos || '.1'},"{($class, 'iati')[1]}",Error,iati,"{($message, $default)[1]}",,mapping,"me:codeListFail({regex-group(2)}, '{$codelist}')"
